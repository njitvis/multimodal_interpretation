(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{6532:(e,t,a)=>{Promise.resolve().then(a.bind(a,5046))},5046:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var r=a(5155),s=a(2115),n=a(9430),i=a(5325),l=a(7193),o=a(1703),d=a(1567);let c=n.bL,p=n.l9;n.YJ,n.ZL,n.Pb,n.z6,s.forwardRef((e,t)=>{let{className:a,inset:s,children:l,...o}=e;return(0,r.jsxs)(n.ZP,{ref:t,className:(0,d.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",a),...o,children:[l,(0,r.jsx)(i.A,{className:"ml-auto"})]})}).displayName=n.ZP.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.G5,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...s})}).displayName=n.G5.displayName;let u=s.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...i}=e;return(0,r.jsx)(n.ZL,{children:(0,r.jsx)(n.UC,{ref:t,sideOffset:s,className:(0,d.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",a),...i})})});u.displayName=n.UC.displayName;let m=s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.q7,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",a),...i})});m.displayName=n.q7.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,checked:i,...o}=e;return(0,r.jsxs)(n.H_,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:i,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})}),s]})}).displayName=n.H_.displayName,s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(n.hN,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.VF,{children:(0,r.jsx)(o.A,{className:"h-2 w-2 fill-current"})})}),s]})}).displayName=n.hN.displayName,s.forwardRef((e,t)=>{let{className:a,inset:s,...i}=e;return(0,r.jsx)(n.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...i})}).displayName=n.JU.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=n.wv.displayName;var f=a(3312);let h=e=>{let{children:t,goal:a,obs:s,next:n}=e;return(0,r.jsxs)("div",{className:"grid grid-cols-[4fr_1fr] min-h-screen gap-4 p-4",children:[(0,r.jsx)("div",{className:"p-6 bg-gray-100 rounded-2xl shadow-md flex items-center justify-center",children:t}),(0,r.jsxs)("div",{className:"p-6 bg-white rounded-2xl shadow-md overflow-y-auto max-h-screen",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:a}),(0,r.jsx)("h4",{className:"font-semibold",children:"Observation"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-3 ",children:s.map(e=>"object"==typeof e?Object.keys(e).map(t=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("li",{className:"font-semibold",children:t},t),(0,r.jsx)("ul",{className:"list-disc pl-5",children:e[t].map(e=>(0,r.jsx)("li",{children:e},e))},"child=".concat(t))]})):(0,r.jsx)("li",{children:e},e))},"parent"),(0,r.jsx)("h4",{className:"font-semibold",children:"Next Steps"}),(0,r.jsx)("ul",{className:"list-disc pl-5 space-y-3 ",children:n&&n.map(e=>(0,r.jsx)("li",{children:e},e))})]})]})};var g=a(8549);let x=e=>{let{data:t,x_cat:a}=e,n=(0,s.useRef)(null),[i,l]=(0,s.useState)([]),[o,d]=(0,s.useState)(null);return(0,s.useEffect)(()=>{l(t.map(e=>{let t=e.vectors.reduce((t,a,r)=>(t[r+1]=a/e.vectors.reduce((e,t)=>e+t,0),t),{});return{id:e.id,...t}}))},[t]),(0,s.useEffect)(()=>{if(i.length>0){let e={top:50,right:0,bottom:0,left:0},r=n.current.parentNode,s=r.clientWidth-e.left-e.right,l=r.clientHeight-e.top-e.bottom,c=g.Ltv(n.current).append("svg").attr("width",s+e.left+e.right).attr("height",l+e.top+e.bottom).append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")")),p=i.map(e=>e.id),u=Object.keys(i[0]).filter(e=>"id"!==e),m=g.WH().domain(u).range([0,s]).padding(0),f=g.WH().domain(p).range([0,l]).padding(0);c.append("g").call(g.tlR(m).tickFormat((e,t)=>a&&a[t]||e)).attr("class","x-axis").selectAll("text").style("text-anchor","middle").style("font-size","12px"),c.append("text").attr("class","x-axis-title").attr("transform","translate(".concat(s/2,", -").concat(e.top/2,")")).attr("text-anchor","middle").text("Vectors").style("font-size","14px").style("font-weight","bold"),c.append("text").call(g.V4s(f).ticks(0)).attr("class","y-axis-title").attr("transform","translate(-".concat(e.left/2,", ").concat(l/2,") rotate(-90)")).attr("text-anchor","middle").text("Captions").style("font-size","14px").style("font-weight","bold");let h=g.m4Y().domain([0,1]).range(["#d6e0ff","blue"]);if(c.selectAll().data(i.flatMap(e=>u.map(t=>({x:t,y:e.id,value:e[t]})))).enter().append("rect").attr("x",e=>m(e.x)).attr("y",e=>f(e.y)).attr("width",m.bandwidth()).attr("height",f.bandwidth()).style("fill",e=>h(e.value)).on("mouseenter",(e,t)=>{g.Ubm("rect").filter(e=>e.y===t.y).style("stroke","black").style("stroke-width",2),d(t.y)}).on("mouseleave",()=>{g.Ubm("rect").style("stroke",null).style("stroke-width",null),d(null)}),o){let e=t.find(e=>e.id===o);e&&c.selectAll(".tooltip").data([o]).join("text").attr("class","tooltip").attr("x",s-150).attr("y",-30).text("Vector: ".concat(e.vectors)).style("font-size","12px")}else c.selectAll(".tooltip").remove()}return()=>{g.Ltv(n.current).selectAll("*").remove()}},[i,o]),(0,r.jsx)("svg",{ref:n,style:{width:"100%",height:"100%"}})},y=e=>{let{d:t}=e,a=(0,s.useRef)(null),[n,i]=(0,s.useState)(t);return(0,s.useEffect)(()=>{if(n.length>0){let e={top:50,right:0,bottom:0,left:10},t=a.current.parentNode,r=t.clientWidth-e.left-e.right,s=t.clientHeight-e.top-e.bottom,i=g.Ltv(a.current).append("svg").attr("width",r+e.left+e.right).attr("height",s+e.top+e.bottom).append("g").attr("transform","translate(".concat(e.left,",").concat(e.top,")")),l=n.map(e=>e.category);n.map(e=>e.value);let o=g.m4Y().domain([0,5]).range([0,r]);i.append("g").attr("transform","translate(0, 0)").call(g.tlR(o).ticks(6).tickFormat(g.GPZ("d"))).selectAll("text").attr("transform","translate(0, 0)").style("text-anchor","end"),i.append("text").attr("class","x-axis-title").attr("transform","translate(".concat(r/2,", -").concat(e.top/2,")")).attr("text-anchor","middle").text("Interpretability").style("font-size","14px").style("font-weight","bold");let d=g.WH().range([0,s]).domain(l).padding(.1);i.append("g").call(g.V4s(d)),i.append("g").selectAll().data(n).join("rect").attr("x",o(0)).attr("y",e=>d(e.category)).attr("width",e=>o(e.value)).attr("height",d.bandwidth()).attr("fill","#69b3a2")}return()=>{g.Ltv(a.current).selectAll("*").remove()}},[n]),(0,s.useEffect)(()=>{i(t)},[t]),(0,r.jsx)("svg",{ref:a,style:{width:"100%",height:"100%"}})};var v=a(3900);let b=()=>{let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)("interpretability_rating"),[i,l]=(0,s.useState)("desc"),[o,d]=(0,s.useState)(null),[b,w]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{let e=[];await g.fu7("/data/download.csv",t=>{let a=t.l1_l4_vector.substring(1,t.l1_l4_vector.length-1).split(", ").map(e=>parseInt(e)),r=a.reduce((e,t)=>e+t,0),s={chart_type:t.chart_type,clarity:t.clarity,complexity:t.complexity,imageid:t.image_id,interpretability_rating:parseInt(t.mean_rating),l1_l4_vector:a,l1:a[0]/r,l2:a[1]/r,l3:a[2]/r,l4:a[3]/r};e.push(s)});let r=e;null!==o&&null!==b&&(r=r.filter(e=>e.interpretability_rating>=o&&e.interpretability_rating<=b)),"asc"===i?r.sort((e,t)=>e[a]-t[a]):r.sort((e,t)=>t[a]-e[a]),t(r)})()},[a,i,o,b]),(0,r.jsx)(h,{goal:"Distribution of L1-L4 sentences",obs:[{"For captions with low interpretability (1-3):":["high proportion of L1 and L4 sentences is observed for low proportion of L3 sentences","higher the porportion of L1 sentences, lower the proportion of L4 sentences and vice versa","about 1/3 captions have high L1 and L4 sentences","almost half the captions have high proportion of L4 sentences"]},{"For captions with high interpretability (4-5):":["high proportion of L1 sentences is observed but is less than L4 sentences","lower the porportion of L3 sentences, higher the proportion of L1 and L4 sentences and vice versa"]}],next:["Impact of occurrance of L1 and L4 sentences must on interpretability rating must be analyzed.","Weighted occurrence must be considered because proportion of L1 and L4 sentences are inversely proportional in low interpretability ratings.","L1 and L4 sentences appear most frequently and L2 sentences appear least frequently."],children:(0,r.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsxs)(f.$,{variant:"outline",children:["Sort by: ",a]})}),(0,r.jsx)(u,{children:["imageid","interpretability_rating","l1","l2","l3","l4"].map(e=>(0,r.jsx)(m,{onClick:()=>n(e),children:e.replace(/_/g," ")},e))})]}),(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsxs)(f.$,{variant:"outline",children:["Order: ",i]})}),(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{onClick:()=>l("asc"),children:"Ascending"}),(0,r.jsx)(m,{onClick:()=>l("desc"),children:"Descending"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.p,{min:1,max:5,type:"number",placeholder:"Min Rating",className:"w-40",value:null!=o?o:"",onChange:e=>d(e.target.value?parseInt(e.target.value):null)}),(0,r.jsx)(v.p,{min:1,max:5,type:"number",placeholder:"Max Rating",className:"w-40",value:null!=b?b:"",onChange:e=>w(e.target.value?parseInt(e.target.value):null)})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-[3fr_1fr] h-full w-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)(x,{data:e.map(e=>({id:e.imageid,vectors:e.l1_l4_vector})),x_cat:["L1","L2","L3","L4"]})}),(0,r.jsx)("div",{children:(0,r.jsx)(y,{d:e.map(e=>({category:e.imageid,value:e.interpretability_rating}))})})]})]})})},w=()=>{let[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)("interpretability_rating"),[i,l]=(0,s.useState)("desc"),[o,d]=(0,s.useState)(null),[b,w]=(0,s.useState)(null);return(0,s.useEffect)(()=>{(async()=>{let e=[];await g.fu7("/data/download.csv",t=>{let a=t.keyword_vector.substring(1,t.keyword_vector.length-1).split(", ").map(e=>parseInt(e)),r=a.reduce((e,t)=>e+t,0),s={chart_type:t.chart_type,clarity:t.clarity,complexity:t.complexity,imageid:t.image_id,interpretability_rating:parseInt(t.mean_rating),keyword_vector:a,aggregation:a[0]/r,uncertainty:a[1]/r,statistics:a[2]/r,task:a[3]/r,pattern:a[4]/r,graphical:a[5]/r};e.push(s)});let r=e;null!==o&&null!==b&&(r=r.filter(e=>e.interpretability_rating>=o&&e.interpretability_rating<=b)),"asc"===i?r.sort((e,t)=>e[a]-t[a]):r.sort((e,t)=>t[a]-e[a]),t(r)})()},[a,i,o,b]),(0,r.jsx)(h,{goal:"Distribution of Keywords",obs:[{"For low interpretability rating (1-3):":["fewer aggregation keywords with higher graphical keywords.","low proportion of uncertainity and task keywords.","lower porportion of uncertainity keywords show higher proportion of task keywords.","high proportion og graphical keywords observed."]},{"For high interpretability rating (4-5):":["comparatively lower proportion of graphical keywords."]}],next:["expand keywords vocabulary for nuanced patterns."],children:(0,r.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-3",children:[(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsxs)(f.$,{variant:"outline",children:["Sort by: ",a]})}),(0,r.jsx)(u,{children:["imageid","interpretability_rating","aggregation","uncertainty","statistics","task","pattern","graphical"].map(e=>(0,r.jsx)(m,{onClick:()=>n(e),children:e.replace(/_/g," ")},e))})]}),(0,r.jsxs)(c,{children:[(0,r.jsx)(p,{asChild:!0,children:(0,r.jsxs)(f.$,{variant:"outline",children:["Order: ",i]})}),(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{onClick:()=>l("asc"),children:"Ascending"}),(0,r.jsx)(m,{onClick:()=>l("desc"),children:"Descending"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(v.p,{min:1,max:5,type:"number",placeholder:"Min Rating",className:"w-40",value:null!=o?o:"",onChange:e=>d(e.target.value?parseInt(e.target.value):null)}),(0,r.jsx)(v.p,{min:1,max:5,type:"number",placeholder:"Max Rating",className:"w-40",value:null!=b?b:"",onChange:e=>w(e.target.value?parseInt(e.target.value):null)})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-[3fr_1fr] h-full w-full",children:[(0,r.jsx)("div",{children:(0,r.jsx)(x,{data:e.map(e=>({id:e.imageid,vectors:e.keyword_vector})),x_cat:["aggregation","uncertainty","statistics","task","pattern","graphical"]})}),(0,r.jsx)("div",{children:(0,r.jsx)(y,{d:e.map(e=>({category:e.imageid,value:e.interpretability_rating}))})})]})]})})},j=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{}),(0,r.jsx)(w,{})]})},3312:(e,t,a)=>{"use strict";a.d(t,{$:()=>d});var r=a(5155),s=a(2115),n=a(2317),i=a(1027),l=a(1567);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:d=!1,...c}=e,p=d?n.DX:"button";return(0,r.jsx)(p,{className:(0,l.cn)(o({variant:s,size:i,className:a})),ref:t,...c})});d.displayName="Button"},3900:(e,t,a)=>{"use strict";a.d(t,{p:()=>i});var r=a(5155),s=a(2115),n=a(1567);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});i.displayName="Input"},1567:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var r=a(3463),s=a(9795);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[172,74,441,517,358],()=>t(6532)),_N_E=e.O()}]);